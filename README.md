I don't remember why I wrote this instead of using hmidi. Perhaps I will remember someday and then I will update this.
